<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Proposta Comercial</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link href="https://unpkg.com/dropzone@6.0.0-beta.1/dist/dropzone.css" rel="stylesheet" type="text/css" />
    <script src="script-tabela-servicos.js" defer></script>

</head>

<body>
    <div class="page-wrapper">
        <nav>
            <div class="header">
                <div class="header-wrapper w-nav" data-animation="default" data-collapse="medium" role="banner">
                    <div class="container-default w-container">
                        <div class="header-content-wrapper">
                            <a href="#" class="logo-link-wrapper w-nav-brand" aria-label="home">
                                <img src="assets/dx_logo.svg" loading="eager">
                            </a>
                            <div class="header-right-side-container">
                                <div style="margin: 8px 0 8px 0;" class="component-card-badge-top-wrapper">
                                    <div class="component-card-badge-top">
                                        <div class="totalContainer">VALOR TOTAL:
                                            <span id="subTotal">R$0,00</span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="w-nav-overlay"></div>
                </div>
            </div>
        </nav>
        <main class="main-section wf-section">
            <div style="opacity: 0;" class="divider"></div>
            <div class="container-default w-container">
                <div style="opacity: 1;" class="grid-1-column gap-row-24px">
                    <div class="inner-container _576px _100-mbl">
                        <div class="text-600">
                            <h1>Proposta de transformação digital</h1>

                        </div>
                        <h1 class="text-500 bold">Cliente: Jonathan Laia</h1>
                        <!--  <p class="mg-bottom-0">O projeto tem como objetivo implementar um sistema automatizado de
                            Trade-In para dispositivos usados. Este sistema integrará as seguintes funcionalidades:

                            Captação de leads através de uma landing page otimizada, permitindo o cadastro de clientes
                            interessados no programa.
                            Integração com CRM (Bling) para cadastro automático de clientes.
                            Gerenciamento de dados dos dispositivos através de APIs e integração com sistemas internos.
                            Geração automática de contratos para Trade-In com base nos dados dos dispositivos e
                            clientes, com possibilidade de impressão imediata.
                            Notificação via e-mail e sistema para acompanhamento do processo pelos vendedores.</p>  -->

                    </div>
                    <!--  <div class="inner-container _576px _100-mbl">
                        <h1 class="text-500 bold">Objetivo</h1>
                        <p class="mg-bottom-0">Aumentar em 50% as vendas de smartphones durante o segundo semestre de
                            2024.
                            Aumentar em 100% o reconhecimento da marca entre o público-alvo.
                            Posicionar a SubImports como referência em qualidade, tecnologia e preço na região.
                            Fortalecer a imagem da marca como inovadora e antenada às últimas tendências do mercado de
                            tecnologia.</p>
                    </div>  -->
                </div>
                <div class="divider"></div>
                <div class="pd-top-24px"></div>
                <h2 class="text-500 bold mg-bottom-12px">Escopo do projeto</h2>
                <section id="windrose-services">


                    <div class="service">
                        <h3>1. Formulário Personalizado</h3>
                        <p><strong>Valor Agregado:</strong> O uso de formulários personalizados para capturar
                            informações específicas sobre os clientes e serviços requisitados permite que a WINDROSEUSA
                            colete dados mais relevantes e detalhados. Isso permite uma melhor segmentação e um
                            atendimento mais personalizado.</p>
                        <p><strong>Impacto no Negócio:</strong> A personalização melhora a precisão no atendimento e
                            aumenta a confiança do cliente, resultando em uma maior satisfação e potencial fidelização.
                        </p>
                    </div>

                    <div class="service">
                        <h3>2. Integração de Feedback</h3>
                        <p><strong>Valor Agregado:</strong> A automação do envio de feedback pós-serviço permite que a
                            empresa colete opiniões valiosas sobre a qualidade do serviço prestado. Isso oferece
                            insights para melhorias contínuas e promove uma imagem de preocupação com a satisfação do
                            cliente.</p>
                        <p><strong>Impacto no Negócio:</strong> Clientes satisfeitos são mais propensos a recomendar a
                            empresa e se tornarem defensores da marca. A coleta constante de feedback também pode
                            identificar problemas antes que eles se tornem maiores, melhorando a retenção de clientes.
                        </p>
                    </div>

                    <div class="service">
                        <h3>3. Envio de Informativos Automatizados</h3>
                        <p><strong>Valor Agregado:</strong> O envio de informativos periódicos via email marketing
                            permite que a WINDROSEUSA mantenha os clientes atualizados sobre novos serviços, promoções e
                            outras novidades. Isso mantém a marca presente na mente dos clientes e ajuda a educar sobre
                            as vantagens de serviços adicionais.</p>
                        <p><strong>Impacto no Negócio:</strong> Informativos regulares promovem vendas cruzadas
                            (cross-sell) e aumento de valor por cliente (upsell), ampliando a receita. Além disso, essa
                            prática fortalece o relacionamento e a confiança com os clientes, que se mantêm informados e
                            engajados.</p>
                    </div>

                    <div class="service">
                        <h3>4. Banco de Leads Integrado e Segmentado</h3>
                        <p><strong>Valor Agregado:</strong> A integração com o banco de leads centraliza todos os dados
                            capturados pelas Landing Pages e formulários, permitindo a criação de segmentos específicos
                            para campanhas de email marketing. Isso otimiza a comunicação e aumenta as chances de
                            conversão.</p>
                        <p><strong>Impacto no Negócio:</strong> Leads bem organizados e segmentados facilitam o trabalho
                            da equipe de vendas e marketing, promovendo uma abordagem mais estratégica e personalizada.
                            Isso gera um maior retorno sobre o investimento (ROI) em campanhas de marketing.</p>
                    </div>

                    <div class="service">
                        <h3>5. Agendamento com Integração a Calendários</h3>
                        <p><strong>Valor Agregado:</strong> A sincronização direta com calendários (como o iOS Calendar)
                            não só melhora a organização interna da empresa, mas também oferece conveniência para o
                            cliente, que pode facilmente visualizar e gerenciar seus compromissos com a WINDROSEUSA.</p>
                        <p><strong>Impacto no Negócio:</strong> A integração reduz o risco de erros e confusões em
                            relação aos horários agendados, além de proporcionar uma experiência mais profissional e
                            confiável para o cliente.</p>
                    </div>

                    <div class="service">
                        <h3>6. Confirmatórios e Lembretes de Agendamentos</h3>
                        <p><strong>Valor Agregado:</strong> A automatização de emails de confirmação e lembretes tanto
                            para o cliente quanto para a empresa garante que ambos estejam cientes dos compromissos e
                            preparados para o serviço agendado.</p>
                        <p><strong>Impacto no Negócio:</strong> Isso reduz significativamente o número de ausências e
                            mal-entendidos, garantindo um fluxo de trabalho mais previsível e organizado. Além disso,
                            melhora a percepção de profissionalismo e cuidado da empresa.</p>
                    </div>
                </section>

                <!--  <p>Escolha os itens abaixo:</p>  -->
                <div class="card component-card">
                    <div class="grid-1-column">
                        <div class="card overflow-hidden border-none">

                            <!-- Tabela de preços -->
                            <div id="tabela-precos" class="overflow-auto">
                                <!-- Cabeçalho da Tabela -->
                                <div class="user-table-row2 table-header">
                                    <div class="text-50 bold color-neutral-700">ITEM</div>
                                    <div class="text-50 bold color-neutral-700">PERÍODO</div>
                                    <div class="text-50 bold color-neutral-700">PREÇO</div>
                                </div>
                                <!-- Corpo da Tabela -->
                                <div class="rows">
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item1" class="text-100 bold color-neutral-800">Landing
                                                    Page (Captação de leads)</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo1" class="color-badge green">Vitalício</div>
                                        </div>
                                        <div data-name="preco1" id="valor01" class="text-100 medium">R$1000</div>
                                    </div>
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item2" class="text-100 bold color-neutral-800">Sistema
                                                    de
                                                    Agendamento online</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo2" class="color-badge blue">Valor Anual</div>
                                        </div>
                                        <div data-name="preco2" id="valor02" class="text-100 medium">R$600</div>
                                    </div>
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item3" class="text-100 bold color-neutral-800">FAQ com
                                                    IA
                                                    (Frequently Asked Questions)</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo3" class="color-badge green">Vitalício</div>
                                        </div>
                                        <div data-name="preco3" id="valor03" class="text-100 medium">R$550</div>
                                    </div>
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item4" class="text-100 bold color-neutral-800">Fluxo com
                                                    link de Pagamentos</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo4" class="color-badge blue">Valor Anual</div>
                                        </div>
                                        <div data-name="preco4" id="valor04" class="text-100 medium">R$750</div>
                                    </div>
                                </div>
                            </div>
                            <!-- Tabela de preços -->
                            <!-- Botão de submit -->
                            <!-- <button id="submit-btn">Submit</button> -->

                        </div>
                    </div>
                </div>

                <div class="divider"></div>
                <div class="pd-top-24px">
                    <h2 class="text-500 bold mg-bottom-12px">Features</h2>
                    <p>Escolha os itens abaixo:</p>
                    <div class="card component-card">
                        <div class="grid-3-columns _1-col-tablet">
                            <div class="card cardhover pd-24px---18px---28px">
                                <div class="mg-bottom-12px">
                                    <div class="_2-items-wrap-container gap-column-16px children-wrap-reverse">
                                        <div>
                                            <div class="checkbox-and-label-container">
                                                <label class="checkbox-label w-checkbox-label" for="checkbox-zap">
                                                    <input type="checkbox" id="checkbox-zap" name="checkbox-zap"
                                                        class="checkbox w-checkbox-input">
                                                    <span class="checkbox-button w-checkbox-input"></span>
                                                    <span class="checkbox-label-text" id="nome-plano-zap">Integração com
                                                        Sistema de Pagamento</span>
                                                </label>
                                            </div>
                                            <div class="flex align-end gap-column-4px">
                                                <div id="valor-feature-whatsapp"
                                                    class="text-600 bold color-neutral-800">R$120
                                                </div>
                                                <div class="mg-bottom-4px">
                                                    <div class="text-100 medium color-neutral-600">/Mês</div>
                                                </div>
                                            </div>
                                        </div>
                                        <img src="assets/payment-feat.png" loading="eager" alt=""
                                            class="card-icon-square _40px">
                                    </div>
                                </div>
                                <div class="divider _20px min-h-1px"></div>
                                <div class="mg-bottom-20px">Adicionar Integração com WhatsApp.</div>
                                <div class="grid-1-column gap-row-12px mg-bottom-24px">
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Recebimento de Pagamentos
                                            Imediatos</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Encaminhamento Automático
                                        </div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Fluxo Simplificado</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Envio de Recibo Automático
                                        </div>
                                    </div>
                                </div>
                                <div class="flex-horizontal vertical-mbp">
                                    <div class="buttons-container gap-row-12px"><button id="btn-feature-whatsapp"
                                            class="btn-card">Adicionar</button> </div>
                                </div>
                            </div>
                            <div class="card cardhover pd-24px---18px---28px">
                                <div class="mg-bottom-12px">
                                    <div class="_2-items-wrap-container gap-column-16px children-wrap-reverse">
                                        <div>
                                            <div class="checkbox-and-label-container">
                                                <label class="checkbox-label w-checkbox-label" for="checkbox-aibot">
                                                    <input type="checkbox" id="checkbox-aibot" name="checkbox-aibot"
                                                        class="checkbox w-checkbox-input">
                                                    <span class="checkbox-button w-checkbox-input"></span>
                                                    <span class="checkbox-label-text" id="nome-plano-aiagent">Integração
                                                        com Agente IA</span>
                                                </label>
                                            </div>
                                            <div class="flex align-end gap-column-4px">
                                                <div id="feature-agente-ia" class="text-600 bold color-neutral-800">
                                                    R$320</div>
                                                <div class="mg-bottom-4px">
                                                    <div class="text-100 medium color-neutral-600">/Mês</div>
                                                </div>
                                            </div>
                                        </div>
                                        <img src="assets/botfeature.png" loading="eager" alt=""
                                            class="card-icon-square _40px">
                                    </div>
                                </div>
                                <div class="divider _20px min-h-1px"></div>
                                <div class="mg-bottom-20px">Agente IA + ChatGPT</div>
                                <div class="grid-1-column gap-row-12px mg-bottom-24px">
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Automação de Atendimento ao
                                            Cliente</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Integração com Marketplaces</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Análise de Dados e Relatórios
                                        </div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Automação de Marketing</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Gerenciamento de Feedbacks</div>
                                    </div>

                                </div>
                                <div class="flex-horizontal vertical-mbp"></div>
                                <div class="buttons-container gap-row-12px"><button id="btn-feature-aiagent"
                                        class="btn-card">Adicionar</button> </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>

            <div class="container-default w-container">
                <div class="divider"></div>
                <div id="stats-cards" class="mg-bottom-16px">
                    <div class="component-card-badge-top-wrapper">
                        <div class="component-card-badge-top">Status do Projeto</div>
                    </div>
                    <div class="card component-card">
                        <div style="align-items: center;" class="grid-2-columns _1-col-tablet">
                            <div class="card pd-16px">
                                <div class="_2-items-wrap-container align-start mg-bottom-16px"><img
                                        src="https://assets.website-files.com/645128e3dbdad55ed2803eff/6452caaa20baea2943b4c3e3_stat-card-square-icon-dashflow-webflow-template.png"
                                        loading="eager" alt="" class="card-icon-square _26px">
                                    <div id="dateNow" class="text-50 medium"></div>
                                    <script>
                                        const date = new Date();
                                        document.getElementById('dateNow').innerHTML = date.toLocaleString('pt-BR', { day: 'numeric', month: 'long', year: 'numeric' });
                                    </script>
                                </div>
                                <div class="text-50 medium mg-bottom-12px">Valor total</div>
                                <div class="_2-items-wrap-container amount-and-data">
                                    <div id="subTotalColor" class="text-500 bold color-neutral-800">R$ </div>
                                    <div>
                                        <div class="card-amount-container green">
                                            <div>24%</div>
                                            <div class="dashflow-custom-icon icon-size-8px"></div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="inner-container _600px _100-tablet">
                                <div class="mg-bottom-0 w-form">
                                    <form id="email-form" name="email-form" data-name="Email Form" method="get"
                                        aria-label="Email Form">
                                        <div class="_2-items-wrap-container justify-center gap-row-40px">
                                            <div class="inner-container _244px _100-mbl">
                                                <div><label for="nome">Nome</label>
                                                    <div><input type="text" class="input w-input" maxlength="256"
                                                            name="nome" data-name="nome" autocomplete="additional-name"
                                                            placeholder="Seu nome" id="nome" required>
                                                    </div>
                                                </div>
                                                <div style="padding-top: 16px;"><label for="email">E-mail</label>
                                                    <div><input type="email" class="input w-input" maxlength="256"
                                                            name="email" data-name="email" autocomplete="email"
                                                            placeholder="seuemail@dominio.com" id="email" required>
                                                    </div>
                                                </div>
                                                <!-- adicione um dropdown -->
                                                <div style="padding-top: 16px;">
                                                    <label for="combo">Confirme o valor do combo</label>
                                                    <div>
                                                        <select id="combo" name="combo" class="w-input">
                                                            <option value="https://pay.kiwify.com.br/YmzXfUH">Combo 01 -
                                                                R$
                                                                2.900
                                                            </option>
                                                            <option value="https://pay.kiwify.com.br/QpItai2">Combo 02 -
                                                                R$
                                                                5.740
                                                            </option>
                                                            <option value="https://pay.kiwify.com.br/XS2xC48">Combo 03 -
                                                                R$
                                                                9.580
                                                            </option>
                                                            <option value="https://pay.kiwify.com.br/yb5BtIe">Produto
                                                                Teste - R$5,00

                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <!-- dropdown padrao -->

                                                <!-- dropdown padrao -->
                                                <div class="buttons-container gap-row-12px">
                                                    <div style="padding-top: 16px;"> <button id="submit-btn"
                                                            type="submit" class="btn-card">Enviar proposta</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="success-message w-form-done" tabindex="-1" role="region"
                                        aria-label="Email Form success">
                                        <div>Obrigado! Sua mensagem foi enviada com sucesso.</div>
                                    </div>
                                    <div class="error-message w-form-fail" tabindex="-1" role="region"
                                        aria-label="Email Form failure">
                                        <div>Ops! Algo deu errado ao enviar a mensagem.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </main>
    </div>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- SweetAlert2    -->
    <script src="script-tabela-servicos.js" defer></script>
    <script>
        // Função de cálculo e envio de dados
        function enviarDadosCalculados() {
            // Coletar os dados da tabela de "script-tabela-servicos.js"
            const tabelaDados = coletarDadosTabela(); // função importada de script-tabela-servicos.js

            // Calcular o total como antes
            let total = 0;
            const valor1 = Number(document.getElementById('valor01').innerHTML.replace('R$', '').replace('.', ''));
            const valor2 = Number(document.getElementById('valor02').innerHTML.replace('R$', '').replace('.', ''));
            const valor3 = Number(document.getElementById('valor03').innerHTML.replace('R$', '').replace('.', ''));
            const valor4 = Number(document.getElementById('valor04').innerHTML.replace('R$', '').replace('.', ''));

            const dozeParcelas = 12;
            total += valor1 + valor2 + valor3 + valor4;

            // Adicionar valores adicionais de acordo com os checkboxes
            const whatsappCheckbox = document.getElementById('checkbox-zap');
            if (whatsappCheckbox.checked) {
                const featureWhatsApp = Number(document.getElementById('valor-feature-whatsapp').textContent.replace('R$', '').replace('.', ''));
                total += featureWhatsApp * dozeParcelas;
            }

            const agenteIACheckbox = document.getElementById('checkbox-aibot');
            if (agenteIACheckbox.checked) {
                const featureAgenteIA = Number(document.getElementById('feature-agente-ia').textContent.replace('R$', '').replace('.', ''));
                total += featureAgenteIA * dozeParcelas;
            }

            // Atualizar o subtotal visualmente
            document.getElementById('subTotal').innerHTML = 'R$ ' + total.toLocaleString('pt-BR');
            document.getElementById('subTotalColor').innerHTML = 'R$ ' + total.toLocaleString('pt-BR');

            // Coleta os dados do formulário
            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;
            const combo = document.getElementById('combo').options[document.getElementById('combo').selectedIndex].value;

            // Valida os dados do formulário
            if (!nome || !email) {
                Swal.fire({
                    title: 'Erro!',
                    text: 'Preencha os campos de nome e email.',
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
                return;
            }

            const regexEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            if (!regexEmail.test(email)) {
                Swal.fire({
                    title: 'Erro!',
                    text: 'E-mail inválido.',
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
                return;
            }

            // Monta o objeto para enviar ao webhook
            const dataHook = {
                nome,
                email,
                combo,
                total,
                tabela: tabelaDados // Inclui os dados da tabela aqui
            };

            // Envia os dados via webhook (mesma lógica do script-calculo-servicos.js)
            fetch('https://wh203bd76e1863dd3288.free.beeceptor.com', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dataHook)
            })
                .then((res) => {
                    if (res.ok) {
                        Swal.fire({
                            title: 'Sucesso!',
                            text: 'Mensagem enviada com sucesso!',
                            icon: 'success',
                            confirmButtonText: 'OK'
                        });
                    }
                })
                .catch((error) => {
                    Swal.fire({
                        title: 'Erro!',
                        text: 'Erro ao enviar a mensagem. Tente novamente.',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                    console.error('Erro ao enviar a mensagem:', error);
                });

            // Exibe os dados no console para verificação
            console.table(tabelaDados);
            console.log(dataHook);
        }

        // Inicializa a função ao clicar no botão de envio
        document.getElementById('submit-btn').addEventListener('click', function (e) {
            e.preventDefault();
            enviarDadosCalculados();
        });

    </script>


</body>

</html>