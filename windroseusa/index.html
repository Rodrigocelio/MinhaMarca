<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Proposta Comercial</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="page-wrapper">
        <nav>
            <div class="header">
                <div class="header-wrapper w-nav" data-animation="default" data-collapse="medium" role="banner">
                    <div class="container-default w-container">
                        <div class="header-content-wrapper">
                            <a href="#" class="logo-link-wrapper w-nav-brand" aria-label="home">
                                <img src="assets/dx_logo.svg" loading="eager">
                            </a>
                            <div class="header-right-side-container">
                                <div style="margin: 8px 0 8px 0;" class="component-card-badge-top-wrapper">
                                    <div class="component-card-badge-top">
                                        <div class="totalContainer">VALOR TOTAL:
                                            <span id="subTotal">R$0,00</span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="w-nav-overlay"></div>
                </div>
            </div>
        </nav>
        <main class="main-section wf-section">
            <div style="opacity: 0;" class="divider"></div>
            <div class="container-default w-container">
                <div style="opacity: 1;" class="grid-1-column gap-row-24px">
                    <div class="inner-container _576px _100-mbl">
                        <div class="text-600">
                            <h1>Proposta de transformação digital</h1>

                        </div>
                        <h1 class="text-500 bold">Cliente: Jonathan Laia</h1>
                       <!--  <p class="mg-bottom-0">O projeto tem como objetivo implementar um sistema automatizado de
                            Trade-In para dispositivos usados. Este sistema integrará as seguintes funcionalidades:

                            Captação de leads através de uma landing page otimizada, permitindo o cadastro de clientes
                            interessados no programa.
                            Integração com CRM (Bling) para cadastro automático de clientes.
                            Gerenciamento de dados dos dispositivos através de APIs e integração com sistemas internos.
                            Geração automática de contratos para Trade-In com base nos dados dos dispositivos e
                            clientes, com possibilidade de impressão imediata.
                            Notificação via e-mail e sistema para acompanhamento do processo pelos vendedores.</p>  -->

                    </div>
                   <!--  <div class="inner-container _576px _100-mbl">
                        <h1 class="text-500 bold">Objetivo</h1>
                        <p class="mg-bottom-0">Aumentar em 50% as vendas de smartphones durante o segundo semestre de
                            2024.
                            Aumentar em 100% o reconhecimento da marca entre o público-alvo.
                            Posicionar a SubImports como referência em qualidade, tecnologia e preço na região.
                            Fortalecer a imagem da marca como inovadora e antenada às últimas tendências do mercado de
                            tecnologia.</p>
                    </div>  -->
                </div>
                <div class="divider"></div>
                <div class="pd-top-24px"></div>
                <h2 class="text-500 bold mg-bottom-12px">Proposta A</h2>
                <!--  <p>Escolha os itens abaixo:</p>  -->
                <div class="card component-card">
                    <div class="grid-1-column">
                        <div class="card overflow-hidden border-none">

                            <!-- Tabela de preços -->
                            <div id="tabela-precos" class="overflow-auto">
                                <!-- Cabeçalho da Tabela -->
                                <div class="user-table-row2 table-header">
                                    <div class="text-50 bold color-neutral-700">ITEM</div>
                                   <div class="text-50 bold color-neutral-700">PERÍODO</div> 
                                    <div class="text-50 bold color-neutral-700">PREÇO</div>
                                </div>
                                <!-- Corpo da Tabela -->
                                <div class="rows">
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item" class="text-100 bold color-neutral-800">Landing Page (Captação de leads)</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo" class="color-badge green">Vitalício</div>
                                        </div> 
                                        <div data-name="preco" id="valor01" class="text-100 medium">R$1000</div>
                                    </div>
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item" class="text-100 bold color-neutral-800">Sistema de Agendamento online</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo" class="color-badge green">Vitalício</div>
                                        </div> 
                                        <div data-name="preco" id="valor02" class="text-100 medium">R$2000</div>
                                    </div>
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item" class="text-100 bold color-neutral-800">FAQ com IA (Frequently Asked Questions)</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo" class="color-badge green">Vitalício</div>
                                        </div> 
                                        <div data-name="preco" id="valor03" class="text-100 medium">R$750</div>
                                    </div>
                                    <div class="user-table-row2">
                                        <div class="flex align-center gap-column-16px">
                                            <div>
                                                <div data-name="item" class="text-100 bold color-neutral-800">Integração com Sistema de Pagamentos</div>
                                            </div>
                                        </div>
                                        <div>
                                            <div data-name="periodo" class="color-badge blue">Valor Mensal</div>
                                        </div> 
                                        <div data-name="preco" id="valor04" class="text-100 medium">R$750</div>
                                    </div>
                                </div>
                            </div>
 <!-- Tabela de preços -->
                            <!-- Botão de submit -->
                            <!-- <button id="submit-btn">Submit</button> -->

                        </div>
                    </div>
                </div>

                <div class="divider"></div>
                <div class="pd-top-24px">
                    <h2 class="text-500 bold mg-bottom-12px">Features</h2>
                    <p>Escolha os itens abaixo:</p>
                    <div class="card component-card">
                        <div class="grid-3-columns _1-col-tablet">
                            <div class="card cardhover pd-24px---18px---28px">
                                <div class="mg-bottom-12px">
                                    <div class="_2-items-wrap-container gap-column-16px children-wrap-reverse">
                                        <div>
                                            <div class="checkbox-and-label-container">
                                                <label class="checkbox-label w-checkbox-label" for="checkbox-zap">
                                                    <input type="checkbox" id="checkbox-zap" name="checkbox-zap"
                                                        class="checkbox w-checkbox-input">
                                                    <span class="checkbox-button w-checkbox-input"></span>
                                                    <span class="checkbox-label-text" id="nome-plano-zap">Integração com
                                                        WhatsApp</span>
                                                </label>
                                            </div>
                                            <div class="flex align-end gap-column-4px">
                                                <div id="valor-feature-whatsapp"
                                                    class="text-600 bold color-neutral-800">R$120
                                                </div>
                                                <div class="mg-bottom-4px">
                                                    <div class="text-100 medium color-neutral-600">/Mês</div>
                                                </div>
                                            </div>
                                        </div>
                                        <img src="assets/whatsapp-feature.png" loading="eager" alt=""
                                            class="card-icon-square _40px">
                                    </div>
                                </div>
                                <div class="divider _20px min-h-1px"></div>
                                <div class="mg-bottom-20px">Adicionar Integração com WhatsApp.</div>
                                <div class="grid-1-column gap-row-12px mg-bottom-24px">
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Tracking de encomendas</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Disparo de catálogos de compras
                                        </div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Interação ativa para captação de
                                            leads</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Envio de códigos promocionais
                                        </div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Envio de boletos por email</div>
                                    </div>
                                </div>
                                <div class="flex-horizontal vertical-mbp">
                                    <div class="buttons-container gap-row-12px"><button id="btn-feature-whatsapp"
                                            class="btn-card">Adicionar</button> </div>
                                </div>
                            </div>
                            <div class="card cardhover pd-24px---18px---28px">
                                <div class="mg-bottom-12px">
                                    <div class="_2-items-wrap-container gap-column-16px children-wrap-reverse">
                                        <div>
                                            <div class="checkbox-and-label-container">
                                                <label class="checkbox-label w-checkbox-label" for="checkbox-aibot">
                                                    <input type="checkbox" id="checkbox-aibot" name="checkbox-aibot"
                                                        class="checkbox w-checkbox-input">
                                                    <span class="checkbox-button w-checkbox-input"></span>
                                                    <span class="checkbox-label-text" id="nome-plano-aiagent">Integração
                                                        com Agente IA</span>
                                                </label>
                                            </div>
                                            <div class="flex align-end gap-column-4px">
                                                <div id="feature-agente-ia" class="text-600 bold color-neutral-800">
                                                    R$320</div>
                                                <div class="mg-bottom-4px">
                                                    <div class="text-100 medium color-neutral-600">/Mês</div>
                                                </div>
                                            </div>
                                        </div>
                                        <img src="assets/botfeature.png" loading="eager" alt=""
                                            class="card-icon-square _40px">
                                    </div>
                                </div>
                                <div class="divider _20px min-h-1px"></div>
                                <div class="mg-bottom-20px">Agente IA + ChatGPT</div>
                                <div class="grid-1-column gap-row-12px mg-bottom-24px">
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Automação de Atendimento ao
                                            Cliente</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Integração com Marketplaces</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Análise de Dados e Relatórios
                                        </div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Automação de Marketing</div>
                                    </div>
                                    <div class="flex align-start gap-column-6px"><img src="assets/feature-icon-left.svg"
                                            loading="eager" alt="">
                                        <div class="text-100 medium color-neutral-700">Gerenciamento de Feedbacks</div>
                                    </div>

                                </div>
                                <div class="flex-horizontal vertical-mbp"></div>
                                <div class="buttons-container gap-row-12px"><button id="btn-feature-aiagent"
                                        class="btn-card">Adicionar</button> </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>

            <div class="container-default w-container">
                <div class="divider"></div>
                <div id="stats-cards" class="mg-bottom-16px">
                    <div class="component-card-badge-top-wrapper">
                        <div class="component-card-badge-top">Status do Projeto</div>
                    </div>
                    <div class="card component-card">
                        <div style="align-items: center;" class="grid-2-columns _1-col-tablet">
                            <div class="inner-container _600px _100-tablet">
                                <div class="card pd-16px">
                                    <div class="_2-items-wrap-container align-start mg-bottom-16px"><img
                                            src="https://assets.website-files.com/645128e3dbdad55ed2803eff/6452caaa20baea2943b4c3e3_stat-card-square-icon-dashflow-webflow-template.png"
                                            loading="eager" alt="" class="card-icon-square _26px">
                                        <div id="dateNow" class="text-50 medium"></div>
                                        <script>
                                            const date = new Date();
                                            document.getElementById('dateNow').innerHTML = date.toLocaleString('pt-BR', { day: 'numeric', month: 'long', year: 'numeric' });
                                        </script>
                                    </div>
                                    <div class="text-50 medium mg-bottom-12px">Valor total</div>
                                    <div class="_2-items-wrap-container amount-and-data">
                                        <div id="subTotalColor" class="text-500 bold color-neutral-800">R$ </div>
                                        <div>
                                            <div class="card-amount-container green">
                                                <div>24%</div>
                                                <div class="dashflow-custom-icon icon-size-8px"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mg-bottom-0 w-form">
                                <form id="email-form" name="email-form" data-name="Email Form" method="get"
                                    aria-label="Email Form">
                                    <div class="_2-items-wrap-container justify-center gap-row-40px">
                                        <div class="inner-container _244px _100-mbl">
                                            <div><label for="nome">Nome</label>
                                                <div><input type="text" class="input w-input" maxlength="256"
                                                        name="nome" data-name="nome" autocomplete="additional-name"
                                                        placeholder="Seu nome" id="nome" required>
                                                </div>
                                            </div>
                                            <div style="padding-top: 16px;"><label for="email">E-mail</label>
                                                <div><input type="email" class="input w-input" maxlength="256"
                                                        name="email" data-name="email" autocomplete="email"
                                                        placeholder="seuemail@dominio.com" id="email" required></div>
                                            </div>
                                            <div class="buttons-container gap-row-12px">
                                                <div style="padding-top: 16px;"> <button id="submit-btn" type="submit"
                                                        class="btn-card">Enviar proposta</button></div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="success-message w-form-done" tabindex="-1" role="region"
                                    aria-label="Email Form success">
                                    <div>Obrigado! Sua mensagem foi enviada com sucesso.</div>
                                </div>
                                <div class="error-message w-form-fail" tabindex="-1" role="region"
                                    aria-label="Email Form failure">
                                    <div>Ops! Algo deu errado ao enviar a mensagem.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


    </div>
    </main>
    </div>

    <script>
        // Inicializando o total
        let total = 0;

        // Função para atualizar o subtotal
        function updateSubTotal() {
            // Resetar o total
            total = 0;

            // Obter os valores dos serviços
            const valor1 = Number(document.getElementById('valor01').innerHTML.replace('R$', '').replace('.', ''));
            const valor2 = Number(document.getElementById('valor02').innerHTML.replace('R$', '').replace('.', ''));
            const valor3 = Number(document.getElementById('valor03').innerHTML.replace('R$', '').replace('.', ''));
            const valor4 = Number(document.getElementById('valor04').innerHTML.replace('R$', '').replace('.', ''));

            // adicionar uma cont para valor fixo de 12 parcelas
            const dozeParcelas = 12;
            // capturar o nome do plano selecionado id="nome-plano-zap"
            const nomePlanoZap = document.getElementById('nome-plano-zap').textContent;
            // capturar o nome do plano selecionado id="nome-plano-aibot"
            const nomePlanoAi = document.getElementById('nome-plano-aiagent').textContent;


            // Adicionar os valores fixos
            total += valor1 + valor2 + valor3 + valor4;

            // Adicionar valor do checkbox de WhatsApp se estiver selecionado
            const whatsappCheckbox = document.getElementById('checkbox-zap');
            if (whatsappCheckbox.checked) {
                const featureWhatsApp = Number(document.getElementById('valor-feature-whatsapp').textContent.replace('R$', '').replace('.', ''));
                total += featureWhatsApp * dozeParcelas;

                console.log(nomePlanoZap, featureWhatsApp * dozeParcelas);
            }

            // Adicionar valor do checkbox de Agente IA se estiver selecionado
            const agenteIACheckbox = document.getElementById('checkbox-aibot');
            if (agenteIACheckbox.checked) {
                const featureAgenteIA = Number(document.getElementById('feature-agente-ia').textContent.replace('R$', '').replace('.', ''));
                total += featureAgenteIA * dozeParcelas;

                console.log(nomePlanoAi, featureAgenteIA * dozeParcelas);
            }

            // Atualizar o subtotal na navbar
            document.getElementById('subTotal').innerHTML = 'R$ ' + total.toLocaleString('pt-BR');

            // Atualizar o subtotal na paleta de cores
            document.getElementById('subTotalColor').innerHTML = 'R$ ' + total.toLocaleString('pt-BR');
        }

        // Adicionando eventos de mudança aos checkboxes
        document.getElementById('checkbox-zap').addEventListener('change', updateSubTotal);
        document.getElementById('checkbox-aibot').addEventListener('change', updateSubTotal);

        // Chamar a função para inicializar o subtotal
        updateSubTotal();

        document.getElementById('submit-btn').addEventListener('click', function () {
            // Seleciona todos os itens com 'data-name'
            const items = document.querySelectorAll('[<!-- data-name="item"]');
            const periodos = document.querySelectorAll('[data-name="periodo"]');
            const precos = document.querySelectorAll('[data-nam  -->e="preco"]');

            // Array para armazenar os dados
            const tableData = [];

            // Itera sobre os itens e monta os dados para a tabela
            for (let i = 0; i < items.length; i++) {
                tableData.push({
                    Item: items[i].textContent.trim(),
                    Periodo: periodos[i].textContent.trim(),
                    Preco: precos[i].textContent.trim()
                });
            }

            // Exibe os dados no console em formato de tabela
            console.table(tableData);
        });


    </script>
    <script>
        // Sincroniza o estado entre o checkbox e o botão
        function syncButtonWithCheckbox(button, checkbox) {
            // Função para alternar o estado do botão com base no checkbox
            checkbox.addEventListener('change', function () {
                if (checkbox.checked) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });

            // Função para alternar o estado do checkbox quando o botão é clicado
            button.addEventListener('click', function () {
                checkbox.checked = !checkbox.checked; // Inverte o estado
                checkbox.dispatchEvent(new Event('change')); // Atualiza o estado
            });
        }

        // Obter referências ao botão e checkbox
        const btnCardZap = document.getElementById('btn-feature-whatsapp');
        const checkboxZap = document.getElementById('checkbox-zap');

        // Sincroniza o botão com o checkbox
        syncButtonWithCheckbox(btnCardZap, checkboxZap);
    </script>
    <script>
        // Sincroniza o estado entre o checkbox e o botão
        function syncButtonWithCheckbox(button, checkbox) {
            // Função para alternar o estado do botão com base no checkbox
            checkbox.addEventListener('change', function () {
                if (checkbox.checked) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });

            // Função para alternar o estado do checkbox quando o botão é clicado
            button.addEventListener('click', function () {
                checkbox.checked = !checkbox.checked; // Inverte o estado
                checkbox.dispatchEvent(new Event('change')); // Atualiza o estado
            });
        }

        // Obter referências ao botão e checkbox
        const btnCardAi = document.getElementById('btn-feature-aiagent');
        const checkboxAibot = document.getElementById('checkbox-aibot');

        // Sincroniza o botão com o checkbox
        syncButtonWithCheckbox(btnCardAi, checkboxAibot);
    </script>

</body>

</html>